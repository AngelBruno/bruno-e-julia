<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Gravata do    <script type="module" src="/scripts/admin.js"></script>
</body>Noivos</title>
    <link rel="stylesheet" href="./styles/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>üé© Administra√ß√£o - Gravata dos Noivos</h1>
            <div class="header-actions">
                <a href="ranking.html" class="btn btn-secondary">Ver Ranking P√∫blico</a>
                <button id="logout-btn" class="btn btn-outline">Sair</button>
            </div>
        </header>

        <div class="admin-content">
            <!-- Painel de Estat√≠sticas -->
            <section class="stats-panel">
                <h2>üìä Estat√≠sticas Gerais</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="total-chaves">0</div>
                        <div class="stat-label">Chaves Distribu√≠das</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-mesas">0</div>
                        <div class="stat-label">Mesas Ativas</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="chaves-restantes">1000</div>
                        <div class="stat-label">Chaves Restantes</div>
                    </div>
                </div>
            </section>

            <!-- Gerenciamento de Mesas -->
            <section class="mesa-management">
                <h2>üèÜ Gerenciamento de Mesas</h2>
                
                <!-- Formul√°rio para adicionar nova mesa -->
                <div class="add-mesa-form">
                    <h3>Adicionar Nova Mesa</h3>
                    <form id="nova-mesa-form">
                        <div class="form-group">
                            <label for="mesa-id">ID da Mesa:</label>
                            <input type="number" id="mesa-id" required min="1">
                        </div>
                        <div class="form-group">
                            <label for="mesa-nome">Nome da Mesa:</label>
                            <input type="text" id="mesa-nome" placeholder="Ex: MESA 01" required maxlength="20">
                        </div>
                        <button type="submit" class="btn btn-primary">Criar Mesa</button>
                    </form>
                </div>

                <!-- Lista de mesas existentes -->
                <div class="mesas-list">
                    <h3>Mesas Existentes</h3>
                    <div id="mesas-container">
                        <!-- Mesas ser√£o carregadas dinamicamente -->
                    </div>
                </div>
            </section>

            <!-- A√ß√µes R√°pidas -->
            <section class="quick-actions">
                <h2>‚ö° A√ß√µes R√°pidas</h2>
                <div class="actions-grid">
                    <button class="action-btn" onclick="openModal('add-keys-modal')">
                        ‚ûï Adicionar Chaves
                    </button>
                    <button class="action-btn" onclick="openModal('remove-keys-modal')">
                        ‚ûñ Remover Chaves
                    </button>
                    <button class="action-btn" onclick="openModal('config-modal')">
                        ‚öôÔ∏è Configura√ß√µes
                    </button>
                    <button class="action-btn danger" onclick="resetGame()">
                        üîÑ Reset Jogo
                    </button>
                    <button class="action-btn" onclick="openModal('sorteio-modal')">
                        üéÅ Sorteio
                    </button>
                    
                </div>
            </section>

            <!-- Hist√≥rico de A√ß√µes -->
            <section class="history-section">
                <h2>üìú Hist√≥rico de A√ß√µes</h2>
                <div id="history-container" class="history-list">
                    <!-- Hist√≥rico ser√° carregado dinamicamente -->
                </div>
            </section>
        </div>
    </div>

    <!-- Modal para Adicionar Chaves -->
    <div id="add-keys-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('add-keys-modal')">&times;</span>
            <h3>Adicionar Chaves</h3>
            <form id="add-keys-form">
                <div class="form-group">
                    <label for="add-mesa-select">Mesa:</label>
                    <select id="add-mesa-select" required>
                        <option value="">Selecione uma mesa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="add-quantidade">Quantidade:</label>
                    <input type="number" id="add-quantidade" required min="1">
                </div>
                <div class="form-group">
                    <label for="add-motivo">Motivo:</label>
                    <input type="text" id="add-motivo" placeholder="Ex: Completou desafio">
                </div>
                <button type="submit" class="btn btn-primary">Adicionar</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('add-keys-modal')">Cancelar</button>
            </form>
        </div>
    </div>

    <!-- Modal para Remover Chaves -->
    <div id="remove-keys-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('remove-keys-modal')">&times;</span>
            <h3>Remover Chaves</h3>
            <form id="remove-keys-form">
                <div class="form-group">
                    <label for="remove-mesa-select">Mesa:</label>
                    <select id="remove-mesa-select" required>
                        <option value="">Selecione uma mesa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="remove-quantidade">Quantidade:</label>
                    <input type="number" id="remove-quantidade" required min="1">
                </div>
                <div class="form-group">
                    <label for="remove-motivo">Motivo:</label>
                    <input type="text" id="remove-motivo" placeholder="Ex: Corre√ß√£o de erro">
                </div>
                <button type="submit" class="btn btn-primary">Remover</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('remove-keys-modal')">Cancelar</button>
            </form>
        </div>
    </div>

    <!-- Modal para Configura√ß√µes -->
    <div id="config-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('config-modal')">&times;</span>
            <h3>Configura√ß√µes do Jogo</h3>
            <form id="config-form">
                <div class="form-group">
                    <label for="total-chaves-config">Total de Chaves:</label>
                    <input type="number" id="total-chaves-config" required min="100">
                </div>
                <div class="form-group">
                    <label for="status-jogo">Status do Jogo:</label>
                    <select id="status-jogo" required>
                        <option value="ativo">Ativo</option>
                        <option value="pausado">Pausado</option>
                        <option value="finalizado">Finalizado</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('config-modal')">Cancelar</button>
            </form>
        </div>
    </div>

    <!-- Modal para Sorteio de N√∫mero -->
    <div id="sorteio-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('sorteio-modal')">&times;</span>
            <h3>Sorteio de N√∫mero</h3>
            <div class="form-group" style="text-align:center;">
                <button type="button" class="btn btn-primary" onclick="sortearNumero()">Sortear N√∫mero</button>
            </div>
            <div class="form-group" style="text-align:center; margin-top:20px;">
                <span id="resultado-sorteio" style="font-size:2em;"></span>
            </div>
            <div class="form-group" style="text-align:center; margin-top:20px;">
                <button type="button" class="btn btn-secondary" onclick="closeModal('sorteio-modal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="./firebase-config.js"></script>
    <script type="module" src="/scripts/admin.js"></script>
</body>
</html>